<table mat-table [dataSource]="employees()" class="employee-list">

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef> Email </th>
    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
  </ng-container>

  <ng-container matColumnDef="department">
    <th mat-header-cell *matHeaderCellDef> Department </th>
    <td mat-cell *matCellDef="let element"> {{element.department}} </td>
  </ng-container>

  <ng-container matColumnDef="equipment">
    <th mat-header-cell *matHeaderCellDef> Equipment </th> 
    <td mat-cell *matCellDef="let element"> 
      @if (element.equipments?.length) {
        <span *ngFor="let equipment of element.equipments; let i = index">
          {{ equipment.name }}{{ i < element.equipments.length - 1 ? ' , ' : '' }}
        </span>
      }
    </td>
  </ng-container>

  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef> Status </th> 
    <td mat-cell *matCellDef="let element"> 
      {{element.status}} 
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
      (click)="onRowClick(row.id)"
      style="cursor: pointer"></tr>
  
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="5">No employees found</td>
  </tr>
</table>